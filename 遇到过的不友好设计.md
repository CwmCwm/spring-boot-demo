# 遇到过的不友好设计
自己遇到过的项目不友好设计  
有些设计是需要上下文才能显示出设计是否友好，单独讨论设计点可能不太合适  
以下内容没有组织，相当于随笔，为自己设计思路提供反例/思考  


## 内容
### Entity设计和Map设计  









### SpringJPA-Hibernate与Mybatis-Plus与SpringJDBC
关于一些概念，见spring-boot-mybatis 和 spring-boot-jdbc

SpringJPA-Hibernate，因为SpringJPA的设计思想是TODO  
用SpringJPA-Hibernate要定义一堆Entity，并且是面向对象来操作数据库  
个人超讨厌JPA，没必要的封装，不是所有东西都要面向对象的思想，数据库就是对外提供数据，所有我关心的数据的语义和数据本身，不需要且没必要多套一层  
写SQL语句还麻烦到要命，一堆细节，什么HQL，注解的属性填啥（写SQL语句与Hibernate面向对象的思想违背）  
    


### 层级目录过多
数据库表就一层，数据库名-表名  
我看过 controller层/目录，service层/目录，POJO层/目录，里面按模块又见子目录，还建子子目录，层级目录过多。  
找起来真是累，自己实践比较  

我是这样做的  
每个目录/层 就一层，不会有子目录，表名是啥，其他命名就是啥（完全同名哦）  
如 表名=user， mapper名=userMapper.xml， service名=UserService.java， controller名=UserController.java   

我基本上都是以持久化那一层为命名/规范依据（基本上大多数应用都要持久化），所以数据库设计完后，其他也就很清楚了  



### 数据库命名
为啥我经常看见表名都要有个 t_ 前缀，这有没啥意义，还占表名长度，而且对应的controller，service，pojo都去掉 t_ 前缀去命名  
表字段不允许为null，就不用做无所谓的处理  



### 前后端分离与后端渲染
后端渲染就是后端直接将数据渲染后形成html文本，如java的freemarker，jsp 等等，其他语言同理，每个渲染引擎还要去对应语法，哎    
前后端分离就是后端做数据接口（返回数据），前端接收数据后自行渲染html文本，
这样后端就简单多了，前端就是JavaScript，前端只有一种语法，JavaScript了  
业界主流趋势你百度啊    



### oracle 和 mysql
你认为oracle 和 mysql 中 null 和 空字符串""  是相同的吗？同一个东西？  
答案：Oracle中 null等价于空字符串。 mysql中 null不是空字符串。

数据表设计，你会设计字段允许 null吗？
我的设计：除非null 有特殊语义，否则都是 not null






### 开发要求
开发时要注意数据语义，哪些数据必填，哪些数据选填，才能设计好数据库














